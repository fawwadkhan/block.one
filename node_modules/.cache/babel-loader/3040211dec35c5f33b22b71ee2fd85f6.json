{"ast":null,"code":"import _toConsumableArray from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/madcad/Documents/block.three/src/components/layout/Landing.js\";\nimport React, { Component } from 'react';\nimport { JsonRpc } from 'eosjs';\nimport endpoint from '../../validation/endpoint';\nimport BlockInfo from '../commons/BlockInfo';\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing(props) {\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Landing).call(this, props));\n    _this.state = {\n      maxLimit: 10,\n      currLimit: 0,\n      blockContainer: [],\n      errors: '',\n      block: {}\n    };\n    _this.getLatestBlocks = _this.getLatestBlocks.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"getLatestBlocks\",\n    value: function getLatestBlocks() {\n      var _this2 = this;\n\n      var rpc = new JsonRpc(endpoint);\n\n      for (var i = 0; i < 10; i++) {\n        setInterval(function () {\n          rpc.get_info().then(function (data) {\n            console.log('s', data.head_block_num);\n\n            if (data.head_block_num) {\n              console.log(data);\n              rpc.get_block(data.head_block_num).then(function (block_data) {\n                if (block_data) {\n                  _this2.setState({\n                    blockContainer: [].concat(_toConsumableArray(_this2.state.blockContainer), [block_data])\n                  });\n                }\n              });\n            }\n          }).catch(function (err) {\n            _this2.setState({\n              errors: err\n            });\n          });\n        }, 500);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLatestBlocks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var blockContainer = this.state.blockContainer;\n      var blockHeadContainer;\n\n      if (blockContainer) {\n        blockHeadContainer = blockContainer.map(function (block) {\n          return React.createElement(BlockInfo, {\n            key: block.block_num,\n            id: block.id,\n            timestamp: block.timestamp,\n            transactions: block.transactions.length,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          });\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Latest Blocks\"), blockHeadContainer)));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default Landing;","map":{"version":3,"sources":["/Users/madcad/Documents/block.three/src/components/layout/Landing.js"],"names":["React","Component","JsonRpc","endpoint","BlockInfo","Landing","props","state","maxLimit","currLimit","blockContainer","errors","block","getLatestBlocks","bind","rpc","i","setInterval","get_info","then","data","console","log","head_block_num","get_block","block_data","setState","catch","err","blockHeadContainer","map","block_num","id","timestamp","transactions","length"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;IAEMC,O;;;;;AAEJ,mBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC,EADA;AAETC,MAAAA,SAAS,EAAC,CAFD;AAGTC,MAAAA,cAAc,EAAC,EAHN;AAITC,MAAAA,MAAM,EAAC,EAJE;AAKTC,MAAAA,KAAK,EAAC;AALG,KAAb;AAOA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;AATgB;AAUnB;;;;sCAEiB;AAAA;;AACd,UAAMC,GAAG,GAAG,IAAIb,OAAJ,CAAYC,QAAZ,CAAZ;;AACA,WAAI,IAAIa,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG,EAAjB,EAAqBA,CAAC,EAAtB,EAAyB;AACvBC,QAAAA,WAAW,CAAC,YAAI;AACdF,UAAAA,GAAG,CAACG,QAAJ,GAAeC,IAAf,CAAoB,UAAAC,IAAI,EAAE;AACxBC,YAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBF,IAAI,CAACG,cAArB;;AACA,gBAAGH,IAAI,CAACG,cAAR,EAAuB;AACrBF,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAL,cAAAA,GAAG,CAACS,SAAJ,CAAcJ,IAAI,CAACG,cAAnB,EAAmCJ,IAAnC,CAAwC,UAAAM,UAAU,EAAE;AAClD,oBAAGA,UAAH,EAAc;AACZ,kBAAA,MAAI,CAACC,QAAL,CAAc;AAAChB,oBAAAA,cAAc,+BAAK,MAAI,CAACH,KAAL,CAAWG,cAAhB,IAA+Be,UAA/B;AAAf,mBAAd;AACD;AACF,eAJD;AAKD;AACF,WAVD,EAUGE,KAVH,CAUS,UAAAC,GAAG,EAAI;AACZ,YAAA,MAAI,CAACF,QAAL,CAAc;AAACf,cAAAA,MAAM,EAAEiB;AAAT,aAAd;AACH,WAZD;AAaD,SAdU,EAcT,GAdS,CAAX;AAeD;AACJ;;;wCAEkB;AACf,WAAKf,eAAL;AACH;;;6BAEU;AAAA,UAECH,cAFD,GAEoB,KAAKH,KAFzB,CAECG,cAFD;AAIP,UAAImB,kBAAJ;;AAEA,UAAGnB,cAAH,EAAkB;AACdmB,QAAAA,kBAAkB,GAAGnB,cAAc,CAACoB,GAAf,CAAmB,UAAAlB,KAAK;AAAA,iBAC3C,oBAAC,SAAD;AAAW,YAAA,GAAG,EAAEA,KAAK,CAACmB,SAAtB;AAAiC,YAAA,EAAE,EAAEnB,KAAK,CAACoB,EAA3C;AAA+C,YAAA,SAAS,EAAEpB,KAAK,CAACqB,SAAhE;AAA2E,YAAA,YAAY,EAAErB,KAAK,CAACsB,YAAN,CAAmBC,MAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD2C;AAAA,SAAxB,CAArB;AAGH;;AAED,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEKN,kBAFL,CADJ,CADJ,CADF;AAUD;;;;EA7DmB5B,S;;AAgEtB,eAAeI,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport { JsonRpc } from 'eosjs';\nimport endpoint from '../../validation/endpoint';\nimport BlockInfo from '../commons/BlockInfo';\n\nclass Landing extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n        maxLimit:10,\n        currLimit:0,\n        blockContainer:[],\n        errors:'',\n        block:{}\n    }\n    this.getLatestBlocks = this.getLatestBlocks.bind(this);\n}\n\n getLatestBlocks(){\n    const rpc = new JsonRpc(endpoint);\n    for(let i=0; i < 10; i++){\n      setInterval(()=>{\n        rpc.get_info().then(data=>{\n          console.log('s',data.head_block_num);\n          if(data.head_block_num){\n            console.log(data);\n            rpc.get_block(data.head_block_num).then(block_data=>{\n              if(block_data){\n                this.setState({blockContainer:[...this.state.blockContainer,block_data]})\n              }\n            }) \n          }\n        }).catch(err => {\n            this.setState({errors: err})\n        });\n      },500)\n    }\n}\n\ncomponentDidMount(){\n    this.getLatestBlocks();\n}\n\n  render() {\n\n    const { blockContainer } = this.state;\n\n    let blockHeadContainer;\n\n    if(blockContainer){\n        blockHeadContainer = blockContainer.map(block => (\n          <BlockInfo key={block.block_num} id={block.id} timestamp={block.timestamp} transactions={block.transactions.length} />\n        ))\n    }\n\n    return (\n      <div className=\"container\">\n          <div className=\"row\">\n              <div className=\"col-md-12\">\n                <h3>Latest Blocks</h3>\n                  {blockHeadContainer}\n              </div>\n          </div>\n      </div>\n    )\n  }\n}\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}