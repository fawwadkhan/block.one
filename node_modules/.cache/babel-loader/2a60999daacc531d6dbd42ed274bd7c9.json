{"ast":null,"code":"import _regeneratorRuntime from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/madcad/Documents/block.three/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/madcad/Documents/block.three/src/components/layout/Navbar.js\";\nimport React, { Component } from 'react';\nimport { Api, JsonRpc, RpcError } from 'eosjs';\nimport endpoint from '../../validation/endpoint';\n\nvar Navbar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navbar, _Component);\n\n  function Navbar(props) {\n    var _this;\n\n    _classCallCheck(this, Navbar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navbar).call(this, props));\n    _this.state = {\n      maxLimit: 10,\n      currLimit: 0,\n      blockContainer: [],\n      errors: '',\n      block: {\n        id: '',\n        timestamp: '',\n        transactions: []\n      }\n    };\n    _this.getLatestBlocks = _this.getLatestBlocks.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Navbar, [{\n    key: \"getLatestBlocks\",\n    value: function getLatestBlocks() {\n      var _this2 = this;\n\n      var rpc;\n      return _regeneratorRuntime.async(function getLatestBlocks$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              rpc = new JsonRpc(endpoint);\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(rpc.get_info().then(function (data) {\n                console.log(data);\n\n                if (data.head_block_num) {\n                  return rpc.get_block(data.head_block_num).then(function (block_data) {\n                    if (block_data) {\n                      var _iblock = _this2.state.block;\n                      _iblock.id = block_data.id;\n                      _iblock.timestamp = block_data.timestamp;\n                      _iblock.transactions = block_data.transactions;\n\n                      _this2.setState({\n                        block: _iblock\n                      });\n                    }\n                  });\n                } //return rpc.get_block()\n\n              }).catch(function (err) {\n                _this2.setState({\n                  errors: err\n                });\n              }));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.getLatestBlocks(); //console.log(rpc.get_block());\n\n      var block = this.state.block;\n      console.log(block);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"display-4 mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Block.one development test\"))));\n    }\n  }]);\n\n  return Navbar;\n}(Component);\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/madcad/Documents/block.three/src/components/layout/Navbar.js"],"names":["React","Component","Api","JsonRpc","RpcError","endpoint","Navbar","props","state","maxLimit","currLimit","blockContainer","errors","block","id","timestamp","transactions","getLatestBlocks","bind","rpc","get_info","then","data","console","log","head_block_num","get_block","block_data","_iblock","setState","catch","err"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,OAAd,EAAuBC,QAAvB,QAAuC,OAAvC;AACA,OAAOC,QAAP,MAAqB,2BAArB;;IAGMC,M;;;;;AAEF,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,gFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC,EADA;AAETC,MAAAA,SAAS,EAAC,CAFD;AAGTC,MAAAA,cAAc,EAAC,EAHN;AAITC,MAAAA,MAAM,EAAC,EAJE;AAKTC,MAAAA,KAAK,EAAC;AACFC,QAAAA,EAAE,EAAC,EADD;AAEFC,QAAAA,SAAS,EAAC,EAFR;AAGFC,QAAAA,YAAY,EAAC;AAHX;AALG,KAAb;AAWA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;AAbc;AAcjB;;;;;;;;;;;;AAGSC,cAAAA,G,GAAM,IAAIhB,OAAJ,CAAYE,QAAZ,C;;+CACNc,GAAG,CAACC,QAAJ,GAAeC,IAAf,CAAoB,UAAAC,IAAI,EAAE;AAC5BC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,oBAAGA,IAAI,CAACG,cAAR,EAAuB;AACnB,yBAAON,GAAG,CAACO,SAAJ,CAAcJ,IAAI,CAACG,cAAnB,EAAmCJ,IAAnC,CAAwC,UAAAM,UAAU,EAAE;AACvD,wBAAGA,UAAH,EAAc;AACV,0BAAIC,OAAO,GAAG,MAAI,CAACpB,KAAL,CAAWK,KAAzB;AACAe,sBAAAA,OAAO,CAACd,EAAR,GAAaa,UAAU,CAACb,EAAxB;AACAc,sBAAAA,OAAO,CAACb,SAAR,GAAoBY,UAAU,CAACZ,SAA/B;AACAa,sBAAAA,OAAO,CAACZ,YAAR,GAAuBW,UAAU,CAACX,YAAlC;;AACA,sBAAA,MAAI,CAACa,QAAL,CAAc;AAAChB,wBAAAA,KAAK,EAAEe;AAAR,uBAAd;AACH;AACJ,mBARM,CAAP;AASH,iBAZ2B,CAa5B;;AACH,eAdK,EAcHE,KAdG,CAcG,UAAAC,GAAG,EAAI;AACZ,gBAAA,MAAI,CAACF,QAAL,CAAc;AAACjB,kBAAAA,MAAM,EAAEmB;AAAT,iBAAd;AACH,eAhBK,C;;;;;;;;;;;6BAmBH;AACP,WAAKd,eAAL,GADO,CAEP;;AAFO,UAGCJ,KAHD,GAGW,KAAKL,KAHhB,CAGCK,KAHD;AAIPU,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AAEA,aAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,CADJ,CADJ,CAFJ;AAUD;;;;EAvDkBZ,S;;AA4DrB,eAAeK,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Api, JsonRpc, RpcError } from 'eosjs';\nimport endpoint from '../../validation/endpoint';\n\n\nclass Navbar extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            maxLimit:10,\n            currLimit:0,\n            blockContainer:[],\n            errors:'',\n            block:{\n                id:'',\n                timestamp:'',\n                transactions:[]\n            }\n        }\n        this.getLatestBlocks = this.getLatestBlocks.bind(this);\n    }\n\n    async getLatestBlocks(){\n        const rpc = new JsonRpc(endpoint);\n        await rpc.get_info().then(data=>{\n            console.log(data);\n            if(data.head_block_num){\n                return rpc.get_block(data.head_block_num).then(block_data=>{\n                    if(block_data){\n                        let _iblock = this.state.block;\n                        _iblock.id = block_data.id\n                        _iblock.timestamp = block_data.timestamp\n                        _iblock.transactions = block_data.transactions\n                        this.setState({block: _iblock});\n                    }\n                })\n            }\n            //return rpc.get_block()\n        }).catch(err => {\n            this.setState({errors: err})\n        });\n    }\n  \n  render() {\n    this.getLatestBlocks();\n    //console.log(rpc.get_block());\n    const { block } = this.state;\n    console.log(block);\n\n    return (\n        \n        <div>\n            <div className=\"row\">\n                <div className=\"col-md-12 text-center\">\n                    <h3 className=\"display-4 mb-4\">Block.one development test</h3>\n                </div>\n            </div>\n        </div>\n    )\n  }\n}\n\n\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}